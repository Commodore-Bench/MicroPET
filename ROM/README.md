
# ROM contents

This folder contains files and code to build a ROM image that can be burned into the 512k ROM on the board, so that it actually boots.

- bootldr.a65: boots the machine by:
-- copying over character ROM image from start of ROM ($080000) to start of bank 7 (in RAM)
-- copying over PET ROM image from $082000 to $087fff to bank 0 ($a000-$ffff) - the CPLD ignores I/O writes
-- copy some trampoline code into zeropage, and jump to it. This code disables init, and boots the PET ROM

For this work the ROM needs to contain:
- uppermost up to 16k: boot code
- lowermost 8k: character ROM
- from 8k to 32k: System ROM to be copied to $a000-$ffff

A complete ROM can be found in Rom512k.bin

The following files are test files, or to build the ROMs:

- char8to16.c: converts a character ROM with 8 pixel rows per character to a 16 row per character image
- charPet2Invers.c: a PET charrom is only 2k and lacks inverted characters, as they are generated by hardware. This small program creates, from the 2k PET image, a full 4k image that contains the inverted characeters
- romtest01(a).a65: This test program fills bank 1 continuously with an increasing value. This can be used to check the hires mode. The output of its build has to be copied into the top 4k of the ROM to boot/run
- romtest02(a).a65: This test program copies an 8k character ROM image from start of the ROM to start of bank 7, where the video code takes its character information. Then fills the character screen, and continuously increase the value in the character screen at $008000. This tests the character display output. The output of its build has to be copied into the top 4k of the ROM to boot/run



